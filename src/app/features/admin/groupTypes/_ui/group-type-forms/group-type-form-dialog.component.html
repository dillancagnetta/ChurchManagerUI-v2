<div class="flex flex-col max-w-240 md:min-w-160 max-h-160 -m-6">
  <!-- Header -->
  <div class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-primary text-on-primary">
    <div class="text-lg">{{action === 'new' ? 'New Group Type' : 'Edit Group Type'}}</div>
    <button
      mat-icon-button
      (click)="matDialogRef.close()"
      [tabIndex]="-1">
      <mat-icon
        class="text-current"
        [svgIcon]="'heroicons_outline:x'"></mat-icon>
    </button>
  </div>

  <!-- form -->
  <form
    class="flex flex-col flex-auto p-6 sm:p-8 overflow-y-auto"
    [formGroup]="form">

    <mat-form-field appearance="fill">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" />
      <mat-error *ngIf="form.get('name')?.hasError('required')">
        Name is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Group Term</mat-label>
      <input matInput formControlName="groupTerm" />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Group Member Term</mat-label>
      <input matInput formControlName="groupMemberTerm" />
    </mat-form-field>

    <mat-checkbox formControlName="takesAttendance">Takes Attendance</mat-checkbox>

    <mat-checkbox formControlName="isSystem">Is System</mat-checkbox>

    <mat-form-field appearance="fill">
      <mat-label>Icon CSS Class</mat-label>
      <input matInput formControlName="iconCssClass" />
    </mat-form-field>

    <!-- Actions -->
    <div class="flex items-center mt-10 -mx-6 py-4 pr-4 border-t bg-gray-50 dark:bg-transparent">
      <!-- Cancel -->
      <button
        class="ml-auto"
        mat-button
        [matTooltip]="'Cancel'"
        (click)="matDialogRef.close()">
        Cancel
      </button>
      <!-- Save -->
      <button
        class="ml-2"
        mat-flat-button
        [color]="'primary'"
        [disabled]="form.invalid || !form.dirty"
        [matTooltip]="'Save'"
        (click)="matDialogRef.close([action, form.getRawValue()])">
        Save
      </button>
    </div>

  </form>

</div>